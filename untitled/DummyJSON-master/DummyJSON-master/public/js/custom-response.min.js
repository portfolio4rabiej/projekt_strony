let creatingCustomAPI=!1,customRequestMode="GET";function handleHomePageMethodSelector(t){var e=document.querySelector(t);e&&(e.addEventListener("click",async function(e){e.preventDefault(),e.stopPropagation(),this.classList.toggle("expanded");e=e.target.getAttribute("for");e&&(document.getElementById(e).checked=!0,customRequestMode=e)}),document.addEventListener("click",function(){var e=document.querySelector(t);e&&e.classList.remove("expanded")}))}function handlePreCodeInput(){var e,t=document.querySelector(".custom-response .json-code");t&&(e=highlightJSON({foo:"bar"}),t.innerHTML=e,t.querySelector("code").setAttribute("contentEditable","true"),t.addEventListener("keydown",function(e){var t,n,o;9===e.keyCode&&(e.preventDefault(),o=(n=window.getSelection()).getRangeAt(0),t=document.createTextNode("  "),o.insertNode(t),o.setStartAfter(t),o.setEndAfter(t),n.removeAllRanges(),n.addRange(o)),13===e.keyCode&&(e.preventDefault(),n=(t=window.getSelection()).getRangeAt(0),o=document.createTextNode("\n  "),n.insertNode(o),n.setStartAfter(o),n.setEndAfter(o),t.removeAllRanges(),t.addRange(n))}),t.addEventListener("paste",function(e){e.preventDefault();e=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,e)}))}function handlePrettifyJSONCode(){var e=document.querySelector(".prettify-btn");e&&e.addEventListener("click",function(e){try{var t=document.querySelector(".custom-response .json-code"),n=highlightJSON(JSON.parse(t.textContent));t.innerHTML=n,t.querySelector("code").setAttribute("contentEditable","true")}catch(e){alert("Invalid JSON code")}})}async function handleCopyURLOnInputClick(){var e=document.querySelector(".x-copy");e&&e.addEventListener("click",async function(){let e=this.querySelector("input");e.value&&(e.select(),await copyTextToClipboard(e.value))&&(e.parentElement.classList.add("copied"),setTimeout(()=>e.parentElement.classList.remove("copied"),1e3))})}async function generateCustomAPI(){if(!creatingCustomAPI){creatingCustomAPI=!0;var n=document.querySelector(".custom-response .json-code");let e=document.querySelector(".custom-response .btn"),t=e.innerHTML;try{var o,r=JSON.parse(n.textContent),a=(e.innerHTML=t.replace("Generate Now","Generating..."),{json:r,method:customRequestMode}),c=new Blob([JSON.stringify(a)]).size;307200<c?alert("Payload Too Large."):(o=await(await fetch("/c/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json(),document.querySelector(".custom-response .x-copy input").value=o.url,customRequestMode="GET")}catch(e){alert("Invalid JSON code")}finally{setTimeout(()=>{e.innerHTML=t,creatingCustomAPI=!1},100)}}}handleHomePageMethodSelector(".method-selector-el"),handlePreCodeInput(),handleCopyURLOnInputClick(),handlePrettifyJSONCode();